<!DOCTYPE html>
<html>

<head>
    

<title>Python Reader</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta http-equiv="content-type" content="text/html; charset=UTF8">



<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="../../css/style.css">
    <!-- Scrollbar Custom CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css">

<!-- Java Script -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="../../plugins/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<!-- Python highlighting -->
<script src="../../plugins/prism/prism.js"></script>
<link href="../../plugins/prism/prism.css" rel="stylesheet" />

<!-- Probability Packages -->
<script src="../../plugins/probability/gaussian.js"></script>
<script src="../../plugins/color.js"></script>

<!-- font awesome -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">

<!-- SWAL -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>


<!-- Stanford -->
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Source+Serif+Pro:400,600,700' rel='stylesheet' type='text/css'>

<!-- Math Jax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>

<script src="../../plugins/math.min.js"></script>
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>


<!-- jQuery CDN - Slim version (=without AJAX) -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>


</head>

<body>

    <div class="wrapper">
        <!-- Sidebar  -->
<nav id="sidebar">
    <div class="sidebar-header">
        <h3>Python Reader</h3>
    </div>

    <ul class="list-unstyled components">
        
        <li>
            <a href="../intro">Introduction</a>
        </li>

       <li>
            <a href="../style">Style</a>
        </li>

        <li>
            <a href="../interpreter">Interpreter</a>
        </li>
        
        <li>
            <a href="../variables">Variables</a>
        </li>
        
        <li>
            <a href="../print"><code>print</code></a>
        </li>
        <li>
            <a href="../input"><code>input</code></a>
        </li>
        
        <li>
            <a href="../math">Math and expressions</a>
        </li>
        <li>
            <a href="../constants">Constants</a>
        </li>
        <li>
            <a href="../random">random</a>
        </li>
        <li>
            <a href="../booleans">Booleans</a>
        </li>
        <li>
            <a href="../if"><code>if</code></a>
        </li>
        <li>
            <a href="../while"><code>while</code></a>
        </li>
        <li>
            <a href="../for"><code>for</code></a>
        </li>
        <li>
            <a href="../functions">Functions</a>
        </li>

        <li>
            <a href="../doctests">DocTests</a>
        </li>
        <li>
            <a href="../images">Images</a>
        </li>
        <li>
            <a href="../TextGrid">TextGrid</a>
        </li>
        <li>
            <a href="../lists">Lists</a>
        </li>
        <li>
            <a href="../strings">Strings</a>
        </li>
        <li>
            <a href="../dicts">Dictionaries</a>
        </li>
        <li>
            <a href="../filereading">Files</a>
        </li>
        <li>
            <a href="../nested">Nested</a>
        </li>
        
        <!--<li>
            <a href="../if"><code>if</code> and comparisons</a>
        </li>
        <li>
            <a href="../booleans">Booleans</a>
        </li>
        <li>
            <a href="../while"><code>while</code></a>
        </li>
        <li>
            <a href="../for"><code>for</code></a>
        </li>
        <li>
            <a href="../functions">Functions</a>
        </li>
        <li>
            <a href="../lists">Lists</a>
        </li>
        <li>
            <a href="../filereading">File reading</a>
        </li>
        <li>
            <a href="../strings">Strings</a>
        </li>
        <li>
            <a href="../dicts">Dictionaries</a>
        </li>-->

    </ul>

    <ul class="list-unstyled CTAs">
        <li>
            <a href="https://codeinplace.stanford.edu/course" class="download">Back to Code in Place</a>
        </li>
    </ul>
</nav>
        <!-- Page Content  -->
        <div id="content">

<button type="button" id="sidebarCollapse" class="mobile-only btn btn-info">
    <i class="fas fa-align-left"></i>
    <span></span>
</button>            
            <div class="page">    
                

<h1>Nested Stuctures</h1>
<hr/>

<h2> Ultimate CS106A: Reverse a Dict </h2>

<p> A normal dictionary pairs keys to their values. In this problem, we are going to create a new dictionary where the keys are the values of another dictionary, and the values are the other dictionary's keys. </p>

<p> <b> Normal Dict: </b>
    <br> 
    Key -> Value 
    <br> 
    <b> Reversed Dict: </b>
    <br> 
    Value -> Keys
</p>

<p> Here's the code for how we can do that: </p>

<pre class="language-python"><code>def reverse(original):
    # should create and return a new dictionary where
    # the values of the original are now keys!
    reversed = {}
    for key in original:
        value = original[key]
        if not value in reversed:
            reversed[value] = []
        reversed[value].append(key)
    return reversed
</code></pre>

<p> The creation of this dictionary gives us an important insight: dictionaries themselves can contain complex data structures as values, like lists! </p>

<h2>The XKCD Color Survey</h2>

<p> In 2010, the creator of the webcomic XKCD released a survey. In this survey, volunteers around the world were shown a randomly-chosen color, and asked to name the color. After filtering the responses, the result was about 2.8 million RGB triplets and their names. We are going to put together what we learned about dictionaries and files to analyze this data!</p>

<p> Here is how the file was formatted: color-name, red value, green value, blue value.</p>

<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vTJmAgQWJojgqzJOTpZPuQc7iC_QTwWvmATVSK_u9T_NqeoDTDESLaCVwIGN0niUP4dqGk9t1TPIMju/embed?start=false&loop=false&delayms=3000" frameborder="0" width="960" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>

<p> The data shows that people perceive colors differently. For example, volunteers labeled all of the following RGB triplets as blue: (124,164,176), (33,115,229), (73,97,236), (120,158,209), (41,201,234), (107,148,220). </p>

<p> For reference, here is what those different shades of blue look like: </p>

<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vRjNzFIbpK2YCM3IPYX9F3NbNkZd9opC1N1KGW5VC7yTTpYbSGkSMZPPpplWo26vrcuJyiBPGwD563N/embed?start=false&loop=false&delayms=3000" frameborder="0" width="960" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>

<p> How can we organize all the data that was gathered? One way to do this is to associate each color name with a list of colors represented by RGB values. </p>

<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vS130iEucgI0T6LlxSgPdLcsXuBm3w70s8IintCa8i6AyVbWnl7G2u2jAzbA-BN1dfJyFjbSPFgnjdK/embed?start=false&loop=false&delayms=3000" frameborder="0" width="960" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>

<p> Each set of RGB values is represented by a list. This means that each color name is associated with a <b>list of lists</b>, where each element of the list is another list! The outer list represents a different shade of that color, while the inner list represents the RGB values that make up that color.</p>

<p> Below shows us what that dictionary might look like: </p>
<pre class="language-python"><code>{
"clover green": [[100, 216, 135], [72, 218, 111],
[57, 109, 40], [9, 190, 78], [4, 217, 90], [36,
164, 33], [85, 195, 120], [137, 207, 101], [155,
213, 167], [41, 141, 12], [35, 195, 118], [63,
169, 115], [2, 184, 86], [49, 189, 100], [147,
200, 8], [63, 160, 43], [87, 121, 8], [49, 183,
44], [61, 190, 119]],
"sal": [[184, 207, 244], [48, 199, 109], [247, 4,
25], [6, 101, 127], [196, 124, 36], [148, 30, 23],
[106, 51, 249], [186, 63, 96], [209, 234, 226],
[115, 18, 254], [59, 251, 10], [209, 84, 209],
[254, 164, 39], [154, 165, 137], [82, 196, 178],
[120, 250, 248], [175, 59, 33], [67, 52, 126],
[224, 211, 50], [9, 255, 249], [138, 43, 154],
[218, 158, 7], [213, 79, 90]],
"marzipan": [[202, 197, 102], [34, 80, 112], [127,
162, 51], [90, 171, 24], [134, 198, 156], [163,
138, 126], [212, 248, 154], [133, 25, 118], [75,
143, 86], [46, 108, 0], [9, 242, 107], [29, 120,
25], [237, 209, 155], [215, 82, 187], [200, 79,
52], [12, 78, 60], [18, 52, 183], [186, 61, 232],
[169, 201, 232], [173, 216, 142]]
}
</code></pre>

<p> Below is code we can use to convert information from the file into a dictionary. Notice how this code uses so many of the things you've learned in the past 5 weeks: decomposition, for-each loops, if-statements, lists, dictionaries, and files. You've come such a long way, and we are so proud of everything you've learned! </p>

<pre class="language-python"><code>def load_data():
    data = {}
    file = open(DATA_FILE)
    n_colors = 0
    for line in file:
        line = line.strip()
        add_color(data, line)
        n_colors += 1
    # print(len(data), n_colors)
    file.close()
    return data

def add_color(data, line):
    parts = line.split(',')
    color_name = parts[0]
    color_rgb = color_from_line(line)
    if color_name not in data:
        data[color_name] = []
    data[color_name].append(color_rgb)

def color_from_line(line):
    parts = line.split(',')
    r = int(parts[1])
    g = int(parts[2])
    b = int(parts[3])
    return [r, g, b]
</code></pre>






            </div>
        </div>
    </div>

<hr/>
<!-- jQuery CDN - Slim version (=without AJAX) -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<!-- Popper.JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
<!-- Bootstrap JS -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
<!-- jQuery Custom Scroller CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $("#sidebar").mCustomScrollbar({
            theme: "minimal"
        });

        $('#sidebarCollapse').on('click', function () {
            $('#sidebar, #content').toggleClass('active');
            $('.collapse.in').toggleClass('in');
            $('a[aria-expanded=true]').attr('aria-expanded', 'false');
        });
    });
</script></body>

</html>